extends Node
class_name InvulnerabilityComponent

@export var invulnerable_duration := 5.0

@onready var timer: Timer = $Timer

var is_invulnerable: bool = false:
	get = get_invulnerable, set = set_invulnerable

func get_invulnerable():
	print("get is_invulenerable: " + str(is_invulnerable))
	return is_invulnerable

func set_invulnerable(value):
	print("set is_invulnerable: " + str(value))
	if value == true:
		timer.start(invulnerable_duration)
		is_invulnerable = value
	else:
		is_invulnerable = value

signal invulnerability_ended

func _on_Timer_timeout():
	is_invulnerable = false
	invulnerability_ended.emit()
