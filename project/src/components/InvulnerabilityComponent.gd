extends Node
class_name InvulnerabilityComponent

@export var invulnerable_duration := 5.0
@export var hurt_box_component: HurtBoxComponent

@onready var timer: Timer = $Timer

@onready var is_invulnerable: bool = false:
	get:
		print("get is_invulenerable: " + str(is_invulnerable))
		return is_invulnerable
	set(value):
		print("set is_invulnerable: " + str(value))
		if value == true:
			timer.start(invulnerable_duration)
			is_invulnerable = value
		else:
			is_invulnerable = value

signal invulnerability_ended

func _on_Timer_timeout():
	is_invulnerable = false
	invulnerability_ended.emit()
